<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Exercise Tracker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background-color: #f5f5f5;
    color: #333;
    transition: background-color 0.3s, color 0.3s;
  }
  .dark-theme {
    background-color: #222;
    color: #f5f5f5;
  }
  h1 { text-align: center; }
  ul { list-style: none; padding: 0; }
  li {
    margin: 10px 0;
    padding: 10px;
    background: #fff;
    border-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .dark-theme li { background: #333; }
  button { margin-left: 10px; }
  .details { margin-top: 5px; font-size: 0.9em; color: #555; }
  .dark-theme .details { color: #ccc; }
  #themeToggle { position: fixed; top: 10px; right: 10px; padding: 5px 10px; }
</style>
</head>
<body>

<h1>Daily Exercise Tracker</h1>
<button id="themeToggle">Toggle Theme</button>

<ul id="exerciseList">
  <!-- Exercises will be here -->
</ul>

<input type="text" id="newExercise" placeholder="Add new exercise" />
<button onclick="addExercise()">Add Exercise</button>

<script>
  let exercises = JSON.parse(localStorage.getItem('exercises')) || [];
  let darkTheme = localStorage.getItem('darkTheme') === 'true';

  const exerciseList = document.getElementById('exerciseList');
  const themeToggle = document.getElementById('themeToggle');

  function renderExercises() {
    exerciseList.innerHTML = '';
    exercises.forEach((ex, index) => {
      const li = document.createElement('li');
      li.innerHTML = `
        <div>
          <input type="checkbox" ${ex.done ? 'checked' : ''} onchange="toggleDone(${index})"> 
          <strong>${ex.name}</strong>
          <div class="details">${ex.details || ''}</div>
        </div>
        <button onclick="addDetails(${index})">Add Details</button>
        <button onclick="removeExercise(${index})">Delete</button>
      `;
      exerciseList.appendChild(li);
    });
  }

  function addExercise() {
    const name = document.getElementById('newExercise').value.trim();
    if(name) {
      exercises.push({name, done: false, details: ''});
      document.getElementById('newExercise').value = '';
      saveAndRender();
    }
  }

  function toggleDone(index) {
    exercises[index].done = !exercises[index].done;
    saveAndRender();
  }

  function addDetails(index) {
    const details = prompt('Enter reps, duration, distance etc:', exercises[index].details);
    if(details !== null) {
      exercises[index].details = details;
      saveAndRender();
    }
  }

  function removeExercise(index) {
    if(confirm('Remove this exercise?')) {
      exercises.splice(index, 1);
      saveAndRender();
    }
  }

  function saveAndRender() {
    localStorage.setItem('exercises', JSON.stringify(exercises));
    renderExercises();
  }

  themeToggle.onclick = () => {
    darkTheme = !darkTheme;
    localStorage.setItem('darkTheme', darkTheme);
    applyTheme();
  }

  function applyTheme() {
    if(darkTheme) document.body.classList.add('dark-theme');
    else document.body.classList.remove('dark-theme');
  }

  applyTheme();
  renderExercises();
</script>

</body>
</html>
